<!DOCTYPE html>
<html>
    <head>
        <title>MusicBrainz API Call</title>
    </head>
    <body>
        <div>
            <form method="GET">
                 <label for="name">Enter Artist Name</label>
                 <input id="name" type="text" name="artist">
                <input type="submit" value="Go">
             </form>
         </div>
        <script type="text/JavaScript">
             function queryArtist() {
                let params = (new URL(document.location)).searchParams;
                if (params.has('artist')) {
                    let artistName = params.get('artist');
                    console.log(artistName);

                    let mbBaseURL = "https://musicbrainz.org/ws/2/";
                    let mbResource = "artist?query=";
                    let queryURL = mbBaseURL + mbResource + artistName;
                    console.log(queryURL);

                    let xmlHTTP = new xmlHTTPRequest();
                    xmlHTTP.open("GET", queryURL);
                    xmlHTTP.send();
                    xmlHTTP.onreadystatechange = function () {
                        if (this.readyState == 4 && this.status == 200) {
                            let retrievedData = this.responseXML;
                            console.log(retrievedData);

                            
                        }
                    }

                }
            
            }
             window.onloasd = queryArtist;
        </script>
        <p>
            <a href="assignment.html">Assignments</a>
            <a href="index.html">Home</a>
        </p>
    </body>
</html>